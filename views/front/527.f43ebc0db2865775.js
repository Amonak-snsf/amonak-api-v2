"use strict";(self.webpackChunkamonak_web_v2=self.webpackChunkamonak_web_v2||[]).push([[527],{91793:(G,A,r)=>{r.d(A,{w:()=>$});var f=r(15861),_=r(66722),Z=r(25567),o=r(5e3),t=r(41315),P=r(73688),v=r(63492),S=r(19180),x=r(9224),L=r(69808),p=r(9529),k=r(69390),I=r(16083);function E(c,g){1&c&&o._UZ(0,"div",17)}function F(c,g){1&c&&o._UZ(0,"div",18)}function N(c,g){1&c&&(o.TgZ(0,"div",19)(1,"button",20),o._UZ(2,"i",21),o.qZA()())}function H(c,g){if(1&c&&o._UZ(0,"img",25),2&c){const s=o.oxw(2).$implicit,d=o.oxw();o.Q6J("src",d.fileUrl(s),o.LSH)}}function D(c,g){if(1&c&&(o.TgZ(0,"video",26),o._UZ(1,"source",27),o._uU(2," Your browser does not support the video tag. "),o.qZA()),2&c){const s=o.oxw(2).$implicit,d=o.oxw();o.xp6(1),o.Q6J("src",d.fileUrl(s),o.LSH)}}function y(c,g){if(1&c&&(o.TgZ(0,"button",22),o.YNc(1,H,1,1,"img",23),o.YNc(2,D,3,1,"video",24),o.qZA()),2&c){const s=o.oxw().$implicit;o.MGl("routerLink","/topten/",s._id,""),o.xp6(1),o.Q6J("ngIf",(null==s?null:s.files)&&s.files.length&&s.files[0]&&"image"===s.files[0].type),o.xp6(1),o.Q6J("ngIf",(null==s?null:s.files)&&s.files.length&&s.files[0]&&"video"===s.files[0].type)}}function B(c,g){1&c&&o.YNc(0,y,3,3,"ng-template",10)}function M(c,g){1&c&&o._UZ(0,"div",38)}function J(c,g){1&c&&o._UZ(0,"div",39)}function R(c,g){if(1&c){const s=o.EpF();o.TgZ(0,"mat-card-header",32)(1,"img",33),o.NdJ("click",function(){o.CHM(s);const w=o.oxw().$implicit;return o.oxw(2).profilePage(w._id)}),o.qZA(),o.YNc(2,M,1,0,"div",34),o.YNc(3,J,1,0,"div",35),o.TgZ(4,"mat-card-title",5),o.NdJ("click",function(){o.CHM(s);const w=o.oxw().$implicit;return o.oxw(2).profilePage(w._id)}),o.TgZ(5,"div",6),o._uU(6),o.qZA()(),o.TgZ(7,"mat-card-subtitle",36),o._UZ(8,"app-friend-request-button",37),o.ALo(9,"i18next"),o.qZA()()}if(2&c){const s=o.oxw().$implicit,d=o.oxw(2);o.xp6(1),o.Q6J("src",d.fileUrl(s),o.LSH),o.xp6(1),o.Q6J("ngIf",null==s?null:s.isLog),o.xp6(1),o.Q6J("ngIf",!(null!=s&&s.isLog)),o.xp6(3),o.Oqu(s.userName),o.xp6(2),o.MGl("buttonText","\xa0\xa0",o.lcZ(9,7,"all.add"),""),o.Q6J("from",d.auth._id)("to",s._id)}}function Y(c,g){if(1&c&&(o.TgZ(0,"mat-card",30),o.YNc(1,R,10,9,"mat-card-header",31),o.qZA()),2&c){const s=g.$implicit,d=o.oxw(2);o.xp6(1),o.Q6J("ngIf",s&&s._id!==d.auth._id)}}function Q(c,g){if(1&c&&(o.TgZ(0,"div",28),o.YNc(1,Y,2,1,"mat-card",29),o.qZA()),2&c){const s=o.oxw();o.xp6(1),o.Q6J("ngForOf",s.users)}}function q(c,g){1&c&&(o.TgZ(0,"button",40),o._UZ(1,"i",21),o.qZA())}function z(c,g){if(1&c&&(o.TgZ(0,"button",22),o._UZ(1,"img",25),o.qZA()),2&c){const s=o.oxw().$implicit,d=o.oxw();o.MGl("routerLink","/topten/",s._id,""),o.xp6(1),o.Q6J("src",d.fileUrl(s),o.LSH)}}function j(c,g){1&c&&o.YNc(0,z,2,2,"ng-template",10)}let $=(()=>{class c{constructor(s,d,w,U){this.toptenService=s,this.authService=d,this.router=w,this.userService=U,this.fileUrl=K=>(0,Z._h)(K),this.customOptions=(0,Z.t9)("","",4),this.MbcustomOptions=(0,Z.t9)("","",5)}ngOnInit(){var s=this;return(0,f.Z)(function*(){s.auth=s.authService.auth(),s.toptens=yield s.toptenService.all({limit:10,status:_.x.enabled}),s.auth&&s.auth._id&&(s.users=yield s.userService.all({sugestion:!0,user:s.auth._id,limit:100}))})()}profilePage(s){s&&(localStorage.setItem("userProfileId",`${s}`),this.router.navigateByUrl("/refresh"))}}return c.\u0275fac=function(s){return new(s||c)(o.Y36(t.t),o.Y36(P.e),o.Y36(v.F0),o.Y36(S.K))},c.\u0275cmp=o.Xpm({type:c,selectors:[["app-home-left"]],decls:32,vars:21,consts:[[1,"matCardAmonak","desktop-and-tablet","position-fixed",2,"width","22vw"],[1,"headerBorder"],["mat-card-avatar","",1,"cursor-pointer",3,"src","click"],["class","onlineDot",4,"ngIf"],["class","offlineDot",4,"ngIf"],[1,"usernameNavModal","cursor-pointer",3,"click"],[1,"mb-overTextNavModal"],[1,"mobileCategory","cursor-pointer",3,"click"],["mat-card-title","",1,"leftTitleStyle","mt-2"],[3,"options"],["carouselSlide",""],[4,"ngFor","ngForOf"],[1,"p-0","desktop-and-tablet"],["mat-card-title","",1,"leftTitleStyle"],[1,"suggestionFrame"],["class","suggestionRow",4,"ngIf"],[1,"mobile-display","pb-1"],[1,"onlineDot"],[1,"offlineDot"],[1,"desktop-and-tablet"],["type","button","data-bs-toggle","modal","data-bs-target","#toptenModal",1,"addStory","d-flex","align-items-center","justify-content-center"],[1,"ri-add-fill","ri-xl"],[1,"story-btn-white","hover01",3,"routerLink"],["mat-card-avatar","","class","topten-style",3,"src",4,"ngIf"],["mat-card-avatar","","class","topten-style","preload","metadata","controlsList","nodownload",4,"ngIf"],["mat-card-avatar","",1,"topten-style",3,"src"],["mat-card-avatar","","preload","metadata","controlsList","nodownload",1,"topten-style"],["type","video/mp4",3,"src"],[1,"suggestionRow"],["class","notMatStyle p-0",4,"ngFor","ngForOf"],[1,"notMatStyle","p-0"],["style","margin-bottom: 3px;",4,"ngIf"],[2,"margin-bottom","3px"],["mat-card-avatar","",1,"topten-style","cursor-pointer",3,"src","click"],["class","onlineDot suggestionDot",4,"ngIf"],["class","offlineDot suggestionDot",4,"ngIf"],[1,"mobileCategory"],["element","homeLeft","buttonType","button","buttonClass","viewerCloseBtn",3,"from","to","buttonText"],[1,"onlineDot","suggestionDot"],[1,"offlineDot","suggestionDot"],["routerLink","/mtopten-form",1,"addStory","d-flex","align-items-center","justify-content-center","hover01"]],template:function(s,d){1&s&&(o.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"img",2),o.NdJ("click",function(){return d.profilePage(d.auth._id)}),o.qZA(),o.YNc(3,E,1,0,"div",3),o.YNc(4,F,1,0,"div",4),o.TgZ(5,"mat-card-title",5),o.NdJ("click",function(){return d.profilePage(d.auth._id)}),o.TgZ(6,"div",6),o._uU(7),o.qZA()(),o.TgZ(8,"mat-card-subtitle",7),o.NdJ("click",function(){return d.profilePage(d.auth._id)}),o._uU(9),o.ALo(10,"i18next"),o.qZA()(),o.TgZ(11,"mat-card-content")(12,"h6",8),o._uU(13),o.ALo(14,"i18next"),o.qZA(),o.TgZ(15,"owl-carousel-o",9),o.YNc(16,N,3,0,"ng-template",10),o.YNc(17,B,1,0,null,11),o.qZA()(),o.TgZ(18,"mat-card-content",12)(19,"h6",13),o._uU(20),o.ALo(21,"i18next"),o.qZA(),o.TgZ(22,"div",14),o.YNc(23,Q,2,1,"div",15),o.qZA()()(),o.TgZ(24,"mat-card",16)(25,"mat-card-content")(26,"h6",13),o._uU(27),o.ALo(28,"i18next"),o.qZA(),o.TgZ(29,"owl-carousel-o",9),o.YNc(30,q,2,0,"ng-template",10),o.YNc(31,j,1,0,null,11),o.qZA()()()),2&s&&(o.xp6(2),o.Q6J("src",d.fileUrl(d.auth),o.LSH),o.xp6(1),o.Q6J("ngIf",null==d.auth?null:d.auth.isLog),o.xp6(1),o.Q6J("ngIf",!(null!=d.auth&&d.auth.isLog)),o.xp6(3),o.Oqu(null==d.auth?null:d.auth.userName),o.xp6(2),o.Oqu(o.lcZ(10,13,null!=d.auth&&d.auth.sectors?d.auth.sectors[d.auth.sectors.length-1]:"")),o.xp6(4),o.Oqu(o.lcZ(14,15,"home.top")),o.xp6(2),o.Q6J("options",d.customOptions),o.xp6(2),o.Q6J("ngForOf",d.toptens),o.xp6(3),o.Oqu(o.lcZ(21,17,"home.suggestBig")),o.xp6(3),o.Q6J("ngIf",d.users),o.xp6(4),o.Oqu(o.lcZ(28,19,"home.top")),o.xp6(2),o.Q6J("options",d.MbcustomOptions),o.xp6(2),o.Q6J("ngForOf",d.toptens))},directives:[x.a8,x.dk,x.kc,L.O5,x.n5,x.$j,x.dn,p.Fy,p.Mp,L.sg,v.rH,k.U],pipes:[I.e3],styles:[".usernameNavModal[_ngcontent-%COMP%]{font-size:15px}.usernameNavModalSuggestion[_ngcontent-%COMP%]{font-size:14px}.mb-overTextNavModal[_ngcontent-%COMP%]{white-space:nowrap;width:170px;overflow:hidden;text-overflow:ellipsis}.headerBorder[_ngcontent-%COMP%]{border-bottom:1px solid silver}.leftTitleStyle[_ngcontent-%COMP%]{font-size:13px;color:#000}.story-btn-white[_ngcontent-%COMP%]{height:auto;width:auto;padding:2px;border:0;border-radius:50%;margin-right:7px;outline:none;background:rgb(252,70,107);background:linear-gradient(90deg,rgba(252,70,107,1) 0%,rgba(63,94,251,1) 100%)}.addStory[_ngcontent-%COMP%]{height:55px;width:55px;border:0;border-radius:50%;margin-right:7px;outline:none;color:#fff;background:linear-gradient(to right top,#d619b8,#b645d0,#905de0,#616ee8,#0c7ae9)}.hover01[_ngcontent-%COMP%]{z-index:1}.hover01[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.3);transition:.1s}.topten-style[_ngcontent-%COMP%]{width:55px!important;height:55px!important;background:white;border:3px solid white}.suggestionFrame[_ngcontent-%COMP%]{min-height:calc(33vh + -0px);max-height:calc(35vh + -0px);width:100%;overflow-x:hidden;overflow-y:auto}.suggestionFrame[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.suggestionFrame[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:30px!important}.suggestionRow[_ngcontent-%COMP%]{height:auto;width:100%}.viewerCloseBtn[_ngcontent-%COMP%]{outline:none;border:0;color:#fff;font-size:11px;font-weight:500;padding:5px 20px;background:linear-gradient(to right top,#d619b8,#b645d0,#905de0,#616ee8,#0c7ae9);border-radius:4px}.matCardAmonak[_ngcontent-%COMP%]{border-radius:10px}.modal-content[_ngcontent-%COMP%]{border-radius:10px;border:0!important}.suggestionDot[_ngcontent-%COMP%]{margin-left:40px;margin-top:40px}"]}),c})()},25527:(G,A,r)=>{r.r(A),r.d(A,{HomeModule:()=>Vt});var f=r(69808),_=r(63492),Z=r(9529),o=r(15861),t=r(5e3),P=r(19180),v=r(73688),S=r(94443),x=r(24468),L=r(87053),p=r(9224),k=r(37957),I=r(98063),E=r(5813),F=r(5859),N=r(67443),H=r(52629),D=r(91793),y=r(25567),B=r(69390),M=r(16083);function J(i,l){if(1&i&&(t.TgZ(0,"div")(1,"mat-card",5)(2,"div",6),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"div",8)(5,"div",9)(6,"div",10),t._UZ(7,"img",11),t.qZA()()(),t.TgZ(8,"div",12)(9,"div",13)(10,"div",14),t._uU(11),t.qZA()(),t.TgZ(12,"div",15)(13,"div",16),t._uU(14),t.ALo(15,"i18next"),t.qZA()(),t.TgZ(16,"div",17),t._UZ(17,"app-friend-request-button",18),t.ALo(18,"i18next"),t.qZA()()()()),2&i){const e=l.$implicit,n=t.oxw(2);t.xp6(3),t.MGl("routerLink","/profile/",e._id,""),t.Q6J("src",n.fileUrl(e),t.LSH),t.xp6(4),t.MGl("routerLink","/profile/",e._id,""),t.Q6J("src",n.fileUrl(e),t.LSH),t.xp6(3),t.MGl("routerLink","/profile/",e._id,""),t.xp6(1),t.Oqu(e.userName),t.xp6(2),t.MGl("routerLink","/profile/",e._id,""),t.xp6(1),t.Oqu(t.lcZ(15,11,null!=e&&e.sectors&&e.sectors[0]?e.sectors[e.sectors.length-1]:"")),t.xp6(3),t.MGl("buttonText","\xa0\xa0",t.lcZ(18,13,"all.add"),""),t.Q6J("from",n.auth._id)("to",e._id)}}function R(i,l){if(1&i&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t.YNc(3,J,19,15,"div",4),t.qZA()()()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.users)}}let Y=(()=>{class i{constructor(e){this.authService=e,this.fileUrl=n=>(0,y._h)(n),this.customOptions=(0,y.t9)("","",1,10)}ngOnInit(){var e=this;return(0,o.Z)(function*(){e.auth=e.authService.auth()})()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(v.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-mobile-suggestion"]],inputs:{users:"users"},decls:1,vars:1,consts:[["class","mobile-display p-2",4,"ngIf"],[1,"mobile-display","p-2"],[1,"frameContainer"],[1,"frameContainerRow","flex-direction-rows","d-flex"],[4,"ngFor","ngForOf"],[1,"suggestionFrame","notMatStyle","position-relative","d-flex","justify-content-center"],[1,"backgroundFlou","position-absolute",2,"z-index","1"],[1,"flouImage","cursor-pointer",3,"routerLink","src"],[1,"suggestionFrameRow",2,"z-index","70"],[1,"width-100","d-flex","justify-content-center","align-items-center"],[1,"avatarConteneur","mt-3"],[1,"ImageStyle","cursor-pointer",3,"routerLink","src"],[1,"textAndButton","width-100","position-absolute",2,"z-index","70"],[1,"row","d-flex","justify-content-center"],["mat-card-title","",1,"col-12","cursor-pointer","text-center","usernameOverText","pt-1",3,"routerLink"],[1,"row","pt-0","d-flex","justify-content-center"],["mat-card-subtitle","",1,"col-12","pt-0","mt-0","cursor-pointer","text-center","usernameOverText2",3,"routerLink"],[1,"col-12","text-center"],["element","mobileSuggestion","buttonType","button","buttonClass","ajouterBtn",3,"from","to","buttonText"]],template:function(e,n){1&e&&t.YNc(0,R,4,1,"div",0),2&e&&t.Q6J("ngIf",n.users)},directives:[f.O5,f.sg,p.a8,_.rH,p.n5,p.$j,B.U],pipes:[M.e3],styles:[".frameContainer[_ngcontent-%COMP%]{min-height:calc(0vh + -0px);max-height:calc(47vh + -0px);width:100vw;overflow-x:scroll!important;overflow-y:hidden}.frameContainer[_ngcontent-%COMP%]::-webkit-scrollbar{height:0px}.frameContainer[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:30px!important}.frameContainerRow[_ngcontent-%COMP%]{width:auto;height:100%!important;display:flex!important}.suggestionFrame[_ngcontent-%COMP%]{min-height:calc(45vh + -0px);max-height:calc(45vh + -0px);width:96vw;margin-right:12px;overflow-x:hidden;overflow-y:hidden;border-radius:10px;box-shadow:0 0 5px #0000008c;-webkit-box-shadow:0px 0px 5px 0px rgba(0,0,0,.55);-moz-box-shadow:0px 0px 5px 0px rgba(0,0,0,.55)}.suggestionFrameRow[_ngcontent-%COMP%]{height:100%;width:100%}.avatarConteneur[_ngcontent-%COMP%]{height:130px;width:130px;box-shadow:0 0 5px #0000008c;-webkit-box-shadow:0px 0px 5px 0px rgba(0,0,0,.55);-moz-box-shadow:0px 0px 5px 0px rgba(0,0,0,.55);border-radius:50%;overflow:hidden}.ImageStyle[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.notMatStyle[_ngcontent-%COMP%]{padding:0}.backgroundFlou[_ngcontent-%COMP%]{min-height:calc(45vh + -0px);max-height:calc(45vh + -0px);width:96vw;overflow-x:hidden;overflow-y:hidden}.flouImage[_ngcontent-%COMP%]{filter:blur(1rem);min-height:45vh;max-height:65vh;width:100%}.backgroundFlou[_ngcontent-%COMP%]{top:0}.usernameOverText[_ngcontent-%COMP%]{white-space:nowrap;width:auto;max-width:70vw;overflow:hidden;text-overflow:ellipsis;cursor:pointer;font-size:15px;color:#fff}.usernameOverText2[_ngcontent-%COMP%]{white-space:nowrap;width:auto;max-width:70vw;overflow:hidden;text-overflow:ellipsis;cursor:pointer;font-size:14.5px;color:#f5f5f5}.textAndButton[_ngcontent-%COMP%]{background-color:#00000080;height:120px;bottom:0;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.ajouterBtn[_ngcontent-%COMP%]{background:white;height:auto;border-radius:30px;width:auto;padding:7px 20px;outline:none;border:0}"]}),i})();var Q=r(14813);function q(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"mat-card",5)(1,"div",6),t._UZ(2,"img",7),t.qZA(),t.TgZ(3,"div",8)(4,"div",9)(5,"div",10),t._UZ(6,"img",11),t.qZA()()(),t.TgZ(7,"div",12)(8,"div",13)(9,"div",14),t._uU(10),t.qZA()(),t.TgZ(11,"div",15)(12,"div",16),t._uU(13),t.ALo(14,"i18next"),t.qZA()(),t.TgZ(15,"div",17)(16,"app-accept-friend-btn",18),t.NdJ("friendEvent",function(a){return t.CHM(e),t.oxw(3).friendListener(a)}),t.qZA()()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(2),t.MGl("routerLink","/profile/",e._id,""),t.Q6J("src",n.fileUrl(e),t.LSH),t.xp6(4),t.MGl("routerLink","/profile/",e._id,""),t.Q6J("src",n.fileUrl(e),t.LSH),t.xp6(3),t.MGl("routerLink","/profile/",e._id,""),t.xp6(1),t.Oqu(e.userName),t.xp6(2),t.MGl("routerLink","/profile/",e._id,""),t.xp6(1),t.Oqu(t.lcZ(14,10,null!=e&&e.sectors&&e.sectors[0]?e.sectors[e.sectors.length-1]:"")),t.xp6(3),t.s9C("from",n.auth._id),t.s9C("to",e._id)}}function z(i,l){1&i&&t.YNc(0,q,17,12,"ng-template",4)}function j(i,l){if(1&i&&(t.TgZ(0,"div",1)(1,"owl-carousel-o",2),t.YNc(2,z,1,0,null,3),t.qZA()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("options",e.customOptions),t.xp6(1),t.Q6J("ngForOf",e.users)}}let $=(()=>{class i{constructor(e,n){this.authService=e,this.userService=n,this.fileUrl=a=>(0,y._h)(a),this.customOptions=(0,y.t9)("","",1,10)}ngOnInit(){var e=this;return(0,o.Z)(function*(){var n,a;e.auth=e.authService.auth(),e.demandeList?e.users=e.demandeList:(e.users=yield e.userService.all({friendRequest:!0,user:null===(n=e.auth)||void 0===n?void 0:n._id,limit:100}),localStorage.setItem("demandesLength",`${null===(a=e.users)||void 0===a?void 0:a.length}`))})()}friendListener(e){var n=this;return(0,o.Z)(function*(){var a;n.users=yield n.userService.all({friendRequest:!0,user:null===(a=n.auth)||void 0===a?void 0:a._id,limit:100}),console.log(e)})()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(v.e),t.Y36(P.K))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-demande-abonnement"]],inputs:{demandeList:"demandeList",users:"users"},decls:1,vars:1,consts:[["class","mobile-display p-2",4,"ngIf"],[1,"mobile-display","p-2"],[3,"options"],[4,"ngFor","ngForOf"],["carouselSlide",""],[1,"suggestionFrame","notMatStyle","position-relative","d-flex","justify-content-center"],[1,"backgroundFlou","position-absolute",2,"z-index","1"],[1,"flouImage","cursor-pointer",3,"routerLink","src"],[1,"suggestionFrameRow",2,"z-index","99"],[1,"width-100","d-flex","justify-content-center","align-items-center"],[1,"avatarConteneur","mt-3"],[1,"ImageStyle","cursor-pointer",3,"routerLink","src"],[1,"textAndButton","width-100","position-absolute",2,"z-index","99"],[1,"row","d-flex","justify-content-center"],["mat-card-title","",1,"col-12","cursor-pointer","text-center","usernameOverText","pt-1",3,"routerLink"],[1,"row","pt-0","d-flex","justify-content-center"],["mat-card-subtitle","",1,"col-12","pt-0","mt-0","cursor-pointer","text-center","usernameOverText2",3,"routerLink"],[1,"col-12","text-center"],[3,"from","to","friendEvent"]],template:function(e,n){1&e&&t.YNc(0,j,3,2,"div",0),2&e&&t.Q6J("ngIf",n.users)},directives:[f.O5,Z.Fy,f.sg,Z.Mp,p.a8,_.rH,p.n5,p.$j,Q.U],pipes:[M.e3],styles:[".suggestionFrame[_ngcontent-%COMP%]{min-height:calc(45vh + -0px);max-height:calc(45vh + -0px);width:96vw;overflow-x:hidden;overflow-y:hidden;border-radius:10px;box-shadow:0 0 5px #0000008c;-webkit-box-shadow:0px 0px 5px 0px rgba(0,0,0,.55);-moz-box-shadow:0px 0px 5px 0px rgba(0,0,0,.55)}.suggestionFrameRow[_ngcontent-%COMP%]{height:100%;width:100%}.avatarConteneur[_ngcontent-%COMP%]{height:130px;width:130px;box-shadow:0 0 5px #0000008c;-webkit-box-shadow:0px 0px 5px 0px rgba(0,0,0,.55);-moz-box-shadow:0px 0px 5px 0px rgba(0,0,0,.55);border-radius:50%;overflow:hidden}.ImageStyle[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.notMatStyle[_ngcontent-%COMP%]{padding:0}.backgroundFlou[_ngcontent-%COMP%]{min-height:calc(45vh + -0px);max-height:calc(45vh + -0px);width:96vw;overflow-x:hidden;overflow-y:hidden}.flouImage[_ngcontent-%COMP%]{filter:blur(1rem);min-height:45vh;max-height:65vh;width:100%}.backgroundFlou[_ngcontent-%COMP%]{top:0}.usernameOverText[_ngcontent-%COMP%]{white-space:nowrap;width:auto;max-width:70vw;overflow:hidden;text-overflow:ellipsis;cursor:pointer;font-size:15px;color:#fff}.usernameOverText2[_ngcontent-%COMP%]{white-space:nowrap;width:auto;max-width:70vw;overflow:hidden;text-overflow:ellipsis;cursor:pointer;font-size:14.5px;color:#f5f5f5}.textAndButton[_ngcontent-%COMP%]{background-color:#00000080;height:120px;bottom:0;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.ajouterBtn[_ngcontent-%COMP%]{background:white;height:auto;border-radius:30px;width:auto;padding:7px 20px;outline:none;border:0}"]}),i})();var c=r(31920),g=r(77946);function s(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"mat-card",2)(1,"mat-card-header",3),t._UZ(2,"img",4),t.TgZ(3,"mat-card-title",5),t._uU(4),t.ALo(5,"i18next"),t.qZA(),t.TgZ(6,"mat-card-subtitle",5),t._uU(7),t.ALo(8,"i18next"),t.qZA()(),t.TgZ(9,"mat-card-content",6),t._UZ(10,"img",7),t.qZA(),t.TgZ(11,"mat-card-actions",8)(12,"button",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().createFIrstTime(a.displayNumber)}),t.TgZ(13,"span",10),t._UZ(14,"i",11),t._uU(15),t.ALo(16,"i18next"),t.qZA()()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.s9C("id",e.displayNumber),t.xp6(2),t.s9C("src",n.showLogo(e.logo),t.LSH),t.xp6(2),t.Oqu(t.lcZ(5,6,e.title)),t.xp6(3),t.hij("",t.lcZ(8,8,e.subtitle),"..."),t.xp6(3),t.s9C("src",n.showImage(e.image),t.LSH),t.xp6(5),t.hij("\xa0",t.lcZ(16,10,e.buttonTitle),"")}}function d(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,s,17,12,"mat-card",1),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.Q6J("ngIf",e)}}let w=(()=>{class i{constructor(e,n){this.userService=e,this.authService=n,this.filterFirstDisplay=[],this.allFirstDisplay=[],this.lng=localStorage.getItem("fallbackLng")?`${localStorage.getItem("fallbackLng")}`.trim().toLowerCase():"fr"}ngOnInit(){var e=this;return(0,o.Z)(function*(){e.auth=yield e.authService.auth(),e.allFirstDisplay=yield e.userService.allFirstDisplay(),yield e.findFirstTime()})()}createFIrstTime(e){var n=this;return(0,o.Z)(function*(){var a;yield n.userService.createFirstTime({display:e,user:null===(a=n.auth)||void 0===a?void 0:a._id,status:!0});const u=document.getElementById(e);u&&(u.style.display="none")})()}findFirstTime(){var e=this;return(0,o.Z)(function*(){var n;const a=yield e.userService.findFirsTime(`${null===(n=e.auth)||void 0===n?void 0:n._id}`);if(e.allFirstDisplay&&e.allFirstDisplay.length)for(let u of e.allFirstDisplay){let m=a.find(C=>C.display===u.displayNumber);(null==m?void 0:m.display)||e.filterFirstDisplay.push(u)}else e.filterFirstDisplay=e.allFirstDisplay})()}showImage(e){const n=e.split("/");return`../../../assets/imgs/amonak/${this.lng}/${n[n.length-1]}`.replace("png","jpg")}showLogo(e){const n=e.split("/");return`../../../assets/imgs/amonak/${n[n.length-1]}`.replace("png","jpg")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P.K),t.Y36(v.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-first-newsfeed"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["class","matCardAmonak backgroundAmonak",3,"id",4,"ngIf"],[1,"matCardAmonak","backgroundAmonak",3,"id"],[1,"pb-1"],["alt","logo amonak","mat-card-avatar","",3,"src"],[1,"text-white"],[1,"p-2"],["mat-card-image","","alt","bienvenue sur amonak",1,"radius-10",3,"src"],[1,"d-flex","justify-content-end","pb-2"],[1,"contactBtn","d-flex","align-items-center","justify-content-center",3,"click"],[1,"textAmonak","d-flex","align-items-center","justify-content-center"],[1,"ri-close-fill","ri-xl"]],template:function(e,n){1&e&&t.YNc(0,d,2,1,"div",0),2&e&&t.Q6J("ngForOf",n.filterFirstDisplay)},directives:[f.sg,f.O5,p.a8,p.dk,p.kc,p.n5,p.$j,p.dn,p.G2,p.hq],pipes:[M.e3],styles:[".matCardAmonak[_ngcontent-%COMP%]{margin-top:15px}.radius-10[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 0 5px #00000040;-webkit-box-shadow:0px 0px 5px 0px rgba(0,0,0,.25);-moz-box-shadow:0px 0px 5px 0px rgba(0,0,0,.25)}.contactBtn[_ngcontent-%COMP%]{background:white;border:0;outline:none;border-radius:30px;padding:12px 30px;box-shadow:0 0 5px #00000040;-webkit-box-shadow:0px 0px 5px 0px rgba(0,0,0,.25);-moz-box-shadow:0px 0px 5px 0px rgba(0,0,0,.25)}.textAmonak[_ngcontent-%COMP%]{background-image:linear-gradient(to right top,#d619b8,#ec069c,#f91c80,#fd3867,#fb5252)}"]}),i})(),U=(()=>{class i{constructor(e){this.element=e,this.publicationsVisible=new t.vpe,this.isTargetElement=!1,this.intersectionOptions={root:null,rootMargin:"0px",threshold:[0,.5,1]}}ngAfterViewInit(){let e=new IntersectionObserver(this.intersectionCallback.bind(this),this.intersectionOptions);this.isTargetElement&&e.observe(this.element.nativeElement)}intersectionCallback(e,n){e.forEach(a=>{console.log(a.intersectionRatio,"rand data"),this.publicationsVisible.emit(1===a.intersectionRatio)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["","appScrollBottomPublication",""]],inputs:{isTargetElement:"isTargetElement"},outputs:{publicationsVisible:"publicationsVisible"}}),i})();var K=r(49219),tt=r(77541),W=r(21146),et=r(70011),X=r(43381),nt=r(28989),ot=r(10446),it=r(14742),at=r(96498),rt=r(4748),lt=r(48267);function st(i,l){1&i&&t._UZ(0,"div",17)}function ct(i,l){1&i&&t._UZ(0,"div",18)}function dt(i,l){1&i&&t._UZ(0,"div",17)}function pt(i,l){if(1&i&&(t.TgZ(0,"button",19),t._UZ(1,"i",20),t.TgZ(2,"span",21),t._uU(3),t.ALo(4,"i18next"),t.TgZ(5,"u"),t._uU(6),t.qZA()()()),2&i){const e=t.oxw();t.MGl("routerLink","/viewer/",e.publication.share,""),t.xp6(3),t.hij("",t.lcZ(4,3,"pub.headOriginalPub")," "),t.xp6(3),t.Oqu(null==e.sharePublication||null==e.sharePublication.user?null:e.sharePublication.user.userName)}}function ut(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"mat-card",24)(1,"mat-card-header",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,u=t.oxw();return u.publicationActions(u.publication,a.type)}),t.TgZ(2,"button",26)(3,"div",27),t._UZ(4,"i"),t.qZA()(),t.TgZ(5,"mat-card-title",28)(6,"font",29),t._uU(7),t.ALo(8,"i18next"),t.qZA()()()()}if(2&i){const e=t.oxw(2).$implicit;t.xp6(4),t.Tol(e.icon),t.xp6(3),t.Oqu(t.lcZ(8,3,e.title))}}function mt(i,l){if(1&i&&(t.TgZ(0,"li"),t.YNc(1,ut,9,5,"mat-card",23),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e&&e.title)}}function gt(i,l){if(1&i&&(t.TgZ(0,"span"),t.YNc(1,mt,2,1,"li",22),t._UZ(2,"li"),t.qZA()),2&i){const e=l.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf","delete"===e.type||"share"===e.type||(null==n.auth?null:n.auth._id)===(null==n.publication||null==n.publication.user?null:n.publication.user._id)&&"update"===e.type||(null==n.auth?null:n.auth._id)!==(null==n.publication||null==n.publication.user?null:n.publication.user._id)&&"follow"===e.type||(null==n.auth?null:n.auth._id)!==(null==n.publication||null==n.publication.user?null:n.publication.user._id)&&"save"===e.type)}}let ft=(()=>{class i{constructor(e,n,a,u,m,C,h,b,O){this.bottomSheet=e,this.router=n,this.publicationService=a,this.authService=u,this.pubManagementService=m,this.publicationSocket=C,this.alerte=h,this.i18nextPipe=b,this.chatSocketService=O,this.now=new Date,this.pubManagement=new et.tY,this.menuItems=[],this.lng=localStorage.getItem("fallbackLng")?`${localStorage.getItem("fallbackLng")}`.trim().toLowerCase():"fr",this.fileUrl=T=>(0,y._h)(T)}ngOnInit(){var e=this;return(0,o.Z)(function*(){var n,a;e.menuItems=e.menuItemsList(),e.auth=e.authService.auth(),setInterval(()=>{e.now=new Date},1e3),(null===(n=e.publication)||void 0===n?void 0:n.share)&&(e.sharePublication=yield e.findPublication(null===(a=e.publication)||void 0===a?void 0:a.share))})()}findPublication(e){var n=this;return(0,o.Z)(function*(){return yield n.publicationService.one(e)})()}getDate(e){let n={locale:tt.Z};return"es"===this.lng&&(n={locale:nt.Z}),"pt"===this.lng&&(n={locale:ot.Z}),"en"===this.lng&&(n={locale:it.Z}),(0,K.Z)(new Date(e),this.now,n)}publicationActions(e,n){var a=this;return(0,o.Z)(function*(){"update"===n&&a.updatePublication(e),("share"===n||"delete"===n)&&a.social(e,n),("follow"===n||"save"===n)&&a.saveFollow(e,n)})()}social(e,n){var a,u;"share"===n&&(this.chatSocketService.emit("refreshNotificationBox",{from:`${null===(a=this.auth)||void 0===a?void 0:a._id}`,to:`${null===(u=this.publication.user)||void 0===u?void 0:u._id}`}),this.bottomSheet.open(W.o,{ariaLabel:this.i18nextPipe.transform("alerteNotification.shareOnSocialMedia"),data:{publication:e,type:n}})),"delete"===n&&this.bottomSheet.open(W.o,{ariaLabel:"alerteNotification.deletePublication",data:{publication:e,type:n}})}updatePublication(e){localStorage.setItem("editPublicationId",`${null==e?void 0:e._id}`),this.router.navigateByUrl(`/viewer/${null==e?void 0:e._id}`)}saveFollow(e,n){var a=this;return(0,o.Z)(function*(){var u,m,C,h;let b=`${a.i18nextPipe.transform("alerteNotification.youSavePublication")} ${null===(u=a.publication.user)||void 0===u?void 0:u.userName} ${a.i18nextPipe.transform("alerteNotification.success")}`;a.pubManagement.publication=`${e._id}`,a.pubManagement.status=!0,a.pubManagement.reason="",a.pubManagement.to=`${e.user._id}`,n===X.pi.follow&&(a.pubManagement.type=n,a.pubManagement.to=`${null===(m=a.publication.user)||void 0===m?void 0:m._id}`,b=`${a.i18nextPipe.transform("alerteNotification.youFollow")} ${null===(C=a.publication.user)||void 0===C?void 0:C.userName}`),n===X.pi.save&&(a.pubManagement.type=n),a.pubManagement.user=`${a.auth._id}`,yield a.pubManagementService.create(a.pubManagement),a.alerte.successAlerte(b),a.chatSocketService.emit("refreshNotificationBox",{from:`${null===(h=a.auth)||void 0===h?void 0:h._id}`,to:`${a.pubManagement.to}`}),a.publicationSocket.emit("saveFollowPublicationEvent",{type:a.pubManagement.type,data:e})})()}menuItemsList(){return[{title:"alerteNotification.delete",icon:"ri-delete-bin-6-line ri-lg",type:"delete"},{title:"alerteNotification.share",icon:"fa-solid fa fa-share ri-lg",type:"share"},{title:"alerteNotification.follow",icon:"fa-solid fa fa-bell ri-lg",type:"follow"},{title:"alerteNotification.save",icon:"fa-solid fa fa-save ri-lg",type:"save"}]}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(at.ch),t.Y36(_.F0),t.Y36(c.I),t.Y36(v.e),t.Y36(rt.E),t.Y36(g.r),t.Y36(lt.W),t.Y36(M.e3),t.Y36(x.L))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-headers"]],inputs:{publication:"publication"},decls:21,vars:15,consts:[[1,"position-relative","padding-0"],[1,"contentBackImage"],["mat-card-image","",1,"backImageStyle",3,"src"],[1,"header-content","p-3","pb-0"],["mat-card-avatar","",1,"publicationAvatar","cursor-pointer",3,"routerLink","src"],["class","onlineDot",4,"ngIf"],["class","offlineDot",4,"ngIf"],[1,"d-flex","cursor-pointer",3,"routerLink"],[1,"usernameOverText"],["class","rt-btn position-relative d-flex justify-content-center align-items-center",3,"routerLink",4,"ngIf"],[1,"cursor-pointer",3,"routerLink"],[1,"navbar","option-icon"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"option-btn","d-flex","justify-content-center","align-items-center"],[1,"ri-focus-line","ri-lg"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"onlineDot"],[1,"offlineDot"],[1,"rt-btn","position-relative","d-flex","justify-content-center","align-items-center",3,"routerLink"],[1,"ri-repeat-line"],[1,"descMsgRt"],[4,"ngIf"],["class","navMatCardDesign",4,"ngIf"],[1,"navMatCardDesign"],[3,"click"],["mat-card-avatar","",1,"buttonDeleteOption","d-flex","align-items-center","justify-content-center"],[1,"textAmonak","d-flex","align-items-center","justify-content-center"],[1,"mt-2"],["size","2"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card-header",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"mat-card-header",3),t._UZ(4,"img",4),t.YNc(5,st,1,0,"div",5),t.YNc(6,ct,1,0,"div",6),t.YNc(7,dt,1,0,"div",5),t.TgZ(8,"mat-card-title",7)(9,"div",8),t._uU(10),t.qZA(),t.YNc(11,pt,7,5,"button",9),t.qZA(),t.TgZ(12,"mat-card-subtitle",10),t._uU(13),t.ALo(14,"i18next"),t.qZA(),t.TgZ(15,"ul",11)(16,"div",12)(17,"button",13),t._UZ(18,"i",14),t.qZA(),t.TgZ(19,"ul",15),t.YNc(20,gt,3,1,"span",16),t.qZA()()()()()),2&e&&(t.xp6(2),t.Q6J("src",n.fileUrl(n.publication),t.LSH),t.xp6(2),t.MGl("routerLink","/profile/",null==n.publication||null==n.publication.user?null:n.publication.user._id,""),t.Q6J("src",n.fileUrl(n.publication.user),t.LSH),t.xp6(1),t.Q6J("ngIf",n.auth._id!==(null==n.publication||null==n.publication.user?null:n.publication.user._id)&&(null==n.publication||null==n.publication.user?null:n.publication.user.isLog)),t.xp6(1),t.Q6J("ngIf",n.auth._id!==(null==n.publication||null==n.publication.user?null:n.publication.user._id)&&!(null!=n.publication&&null!=n.publication.user&&n.publication.user.isLog)),t.xp6(1),t.Q6J("ngIf",n.auth._id===(null==n.publication||null==n.publication.user?null:n.publication.user._id)),t.xp6(1),t.MGl("routerLink","/profile/",null==n.publication||null==n.publication.user?null:n.publication.user._id,""),t.xp6(2),t.Oqu(n.publication.user.userName),t.xp6(1),t.Q6J("ngIf",n.publication.share),t.xp6(1),t.MGl("routerLink","/profile/",null==n.publication||null==n.publication.user?null:n.publication.user._id,""),t.xp6(1),t.AsE("",t.lcZ(14,13,null!=n.publication&&null!=n.publication.user&&n.publication.user.sectors?n.publication.user.sectors[n.publication.user.sectors.length-1]:"")," | ",n.getDate(n.publication.createdAt),""),t.xp6(7),t.Q6J("ngForOf",n.menuItems))},directives:[p.dk,p.G2,p.kc,_.rH,f.O5,p.n5,p.$j,f.sg,p.a8],pipes:[M.e3],styles:['.contentBackImage[_ngcontent-%COMP%]{position:absolute;top:0;left:0;min-height:76px;max-height:76px;border-top-left-radius:10px;border-top-right-radius:10px;width:100%;overflow-y:hidden;overflow-x:hidden}.backImageStyle[_ngcontent-%COMP%]{filter:blur(1.7rem)}.header-content[_ngcontent-%COMP%]{z-index:20!important;margin-left:-32px;width:100%;background-color:#fff6;border-top-left-radius:10px;border-top-right-radius:10px;border:0}.usernameOverText[_ngcontent-%COMP%]{white-space:nowrap;width:auto;max-width:290px;overflow:hidden;text-overflow:ellipsis;cursor:pointer;font-size:17px}.option-icon[_ngcontent-%COMP%]{font-size:20px;right:5px;color:gray;position:absolute}.option-btn[_ngcontent-%COMP%]{background:none;border:0px;outline:none;background-color:#fff6;padding:0;height:20px;width:20px;border-radius:50%;border:0;margin-right:20px}.optionImg[_ngcontent-%COMP%]{opacity:0}.dropdown-menu[_ngcontent-%COMP%]{border:1px solid silver;margin-left:-150px;width:200px}.dropdown-user[_ngcontent-%COMP%]{margin-left:0;width:300px;height:auto;margin-top:3px;background:white;border-radius:10px;z-index:2;position:absolute;display:none;padding:0!important}.navMatCardDesign[_ngcontent-%COMP%]{box-shadow:none;border:0;margin-left:5px;margin-right:5px;padding-bottom:5px;padding-top:5px;cursor:pointer;position:relative}.navMatCardDesign[_ngcontent-%COMP%]:hover{background:#ecf0f1}.buttonDeleteOption[_ngcontent-%COMP%]{background:#ecf0f1;border:0;color:#0c7ae9}.pubImage[_ngcontent-%COMP%]{width:100%;height:auto}.actionBtnStyle[_ngcontent-%COMP%]{border:0;background:none;padding:6px;outline:none}.commentLabel[_ngcontent-%COMP%]{height:100%;width:100%}.commentArea[_ngcontent-%COMP%]{background:#ecf0f1;height:44px;width:100%;border-radius:30px;border:0;padding-left:15px;padding-top:12px;padding-right:15px;overflow:hidden;outline:none;resize:none;margin-left:10px}.commentArea[_ngcontent-%COMP%]:focus{height:60px;border-radius:20px}.likeCommentAbsolute[_ngcontent-%COMP%]{left:0;bottom:-20px}.buttonSendComment[_ngcontent-%COMP%]{padding:0;border:0;outline:none;position:absolute;height:44px;width:44px;right:12px;color:#fff;border-radius:50%;top:0;background-image:linear-gradient(to right top,#d41bb9,#a73dc0,#784bbe,#4750b3,#0150a1)}.actionBtnStyle[_ngcontent-%COMP%]   #heartFly[_ngcontent-%COMP%]{position:absolute;margin-top:5px;color:#e74c3c;opacity:0}.actionBtnStyle[_ngcontent-%COMP%]   #heartRed[_ngcontent-%COMP%]{visibility:hidden;color:#e74c3c;position:absolute}@keyframes heartFly{0%{transform:scale(1.7);opacity:1}50%{transform:scale(2);transform:rotate(10deg)}to{transform:rotate(0);margin-top:-110px;opacity:0}}.rt-btn[_ngcontent-%COMP%]{border:0;border-radius:4px;background-color:#fff6;color:#000;outline:none;margin-left:10px}.descMsgRt[_ngcontent-%COMP%]{background:white;color:#000;position:absolute;text-align:center;border-radius:6px;padding:5px 3px;z-index:1;font-weight:500;top:-5px;width:auto;min-width:250px;font-size:12px;margin-left:-125px;top:150%;left:50%;visibility:hidden;box-shadow:0 0 5px #00000040;-webkit-box-shadow:0px 0px 5px 0px rgba(0,0,0,.25);-moz-box-shadow:0px 0px 5px 0px rgba(0,0,0,.25)}.descMsgRt[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:transparent transparent white transparent}button[_ngcontent-%COMP%]:hover   .descMsgRt[_ngcontent-%COMP%]{visibility:visible}.originalText[_ngcontent-%COMP%]{border:1px solid silver;border-bottom:none!important;border-top-left-radius:10px;border-top-right-radius:10px;margin:10px;display:-webkit-box;max-width:87%;-webkit-line-clamp:5;-webkit-box-orient:vertical;overflow:hidden;margin-left:0!important}.commentReportFrame[_ngcontent-%COMP%]{min-height:calc(auto + -0px);max-height:300px;width:100%;overflow-x:hidden;overflow-y:hidden}.commentReportFrame[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.commentReportFrame[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:30px!important}.commentReportRow[_ngcontent-%COMP%]{width:100%;height:auto}.notMatStyle[_ngcontent-%COMP%]{background:none}.commentParagraphe[_ngcontent-%COMP%]{background:#ecf0f1;padding:20px;min-width:40%;width:auto;max-width:80%;border-radius:15px;padding-top:10px!important;padding-bottom:10px!important;border-top-left-radius:7px!important}.commentReportUsername[_ngcontent-%COMP%]{font-weight:600}.marginBottomComment[_ngcontent-%COMP%]{margin-bottom:25px}.commentDate[_ngcontent-%COMP%]{color:#252525;font-size:11px;opacity:.9;margin-top:10px}.leftReportLine[_ngcontent-%COMP%]{width:4px;height:100%;background:#ecf0f1;position:absolute;left:20px;top:0}.cmtactionBtnStyle[_ngcontent-%COMP%]{border:0;background:none;padding:0;outline:none}.cmtactionBtnStyle[_ngcontent-%COMP%]   #cmtheartFly[_ngcontent-%COMP%]{position:absolute;margin-top:5px;color:#e74c3c;opacity:0}.cmtactionBtnStyle[_ngcontent-%COMP%]   #cmtheartRed[_ngcontent-%COMP%]{visibility:hidden;color:#e74c3c;position:absolute}@keyframes cmtheartFly{0%{transform:scale(1.7);opacity:1}50%{transform:scale(2);transform:rotate(10deg)}to{transform:rotate(0);margin-top:-110px;opacity:0}}.leftNegatif[_ngcontent-%COMP%]{margin-left:-15px}.seeMoreComment[_ngcontent-%COMP%]{border:0;background:none;color:#252525;font-size:15px;padding-top:10px;padding-bottom:10px;padding-left:0;outline:none}']}),i})();var ht=r(74492),_t=r(24124),xt=r(96466),bt=r(16535),vt=r(68833);function Mt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"app-actions",6),t.NdJ("sendAlerteModalEvent",function(a){return t.CHM(e),t.oxw(2).sendAlerteModalEvent(a)})("callShareModalEvent",function(a){return t.CHM(e),t.oxw(2).callShareModalListener(a)}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("publication",e.publication)}}function Ct(i,l){if(1&i&&(t.TgZ(0,"mat-card",1),t._UZ(1,"app-headers",2)(2,"app-sliders",2),t.TgZ(3,"div",3),t._UZ(4,"app-texts",2),t.qZA(),t.TgZ(5,"mat-card-actions",4),t.YNc(6,Mt,1,1,"app-actions",5),t._UZ(7,"app-statistics",2)(8,"app-comments",2),t.qZA()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("publication",e.publication),t.xp6(1),t.Q6J("publication",e.publication),t.xp6(2),t.Q6J("publication",e.publication),t.xp6(2),t.Q6J("ngIf",e.publication),t.xp6(1),t.Q6J("publication",e.publication),t.xp6(1),t.Q6J("publication",e.publication)}}let wt=(()=>{class i{constructor(){this.callShareModalEvent=new t.vpe,this.sendAlerteModalEvent2=new t.vpe}ngOnInit(){}callShareModalListener(e){this.callShareModalEvent.emit(e)}sendAlerteModalEvent(e){this.sendAlerteModalEvent2.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-publication-sell"]],inputs:{publication:"publication"},outputs:{callShareModalEvent:"callShareModalEvent",sendAlerteModalEvent2:"sendAlerteModalEvent2"},decls:1,vars:1,consts:[["class","p-0 matCardAmonak margin-top-15",4,"ngIf"],[1,"p-0","matCardAmonak","margin-top-15"],[3,"publication"],[1,"p-3"],[1,"p-3","pt-1"],[3,"publication","sendAlerteModalEvent","callShareModalEvent",4,"ngIf"],[3,"publication","sendAlerteModalEvent","callShareModalEvent"]],template:function(e,n){1&e&&t.YNc(0,Ct,9,6,"mat-card",0),2&e&&t.Q6J("ngIf",n.publication&&n.publication.user)},directives:[f.O5,p.a8,ft,ht.H,_t.B,p.hq,xt.h,bt.B,vt.C],styles:[""]}),i})();var Zt=r(68196);function Ot(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"span")(1,"app-publication-sell",5),t.NdJ("sendAlerteModalEvent2",function(a){return t.CHM(e),t.oxw(2).sendAlerteModalEvent(a)})("callShareModalEvent",function(a){return t.CHM(e),t.oxw(2).callShareModal(a)}),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("publication",e)}}function Pt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"span")(1,"div",4),t.NdJ("publicationsVisible",function(a){return t.CHM(e),t.oxw().getAllPublication(a)}),t.YNc(2,Ot,2,1,"span",2),t.qZA()()}if(2&i){const e=l.$implicit,n=t.oxw();t.xp6(1),t.Q6J("isTargetElement",e._id==n.publications[n.publications.length-1]._id),t.xp6(1),t.Q6J("ngIf",e&&e.user)}}function yt(i,l){1&i&&t._UZ(0,"app-loading-feed")}function Tt(i,l){1&i&&(t.TgZ(0,"div",6)(1,"div",7)(2,"font",8),t._uU(3),t.ALo(4,"i18next"),t.qZA()()()),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"all.endNewsfeed")))}let At=(()=>{class i{constructor(e,n){this.publicationService=e,this.publicationSocket=n,this.publications=[],this.onLoading=!0,this.callShareModalEvent=new t.vpe,this.sendAlerteModalEvent2=new t.vpe}ngOnInit(){var e=this;return(0,o.Z)(function*(){window.scroll(0,0),e.getAllPublication(!0),e.publicationSocket.on("newPublicationListener",n=>{e.publications.unshift(n)}),e.publicationSocket.on("softDeletePublicationListener",n=>{e.publications=e.publications.filter(a=>a._id!==n._id)}),e.publicationSocket.on("updatePublicationListener",n=>{e.publications=e.publications.filter(a=>a._id!==n._id),e.publications.unshift(n)})})()}getAllPublication(e){var n=this;return(0,o.Z)(function*(){var a;if(e){n.onLoading=!0;const u=yield n.all(3);0===(null===(a=n.publications)||void 0===a?void 0:a.length)?n.publications.push(...u):n.publications=n.publications.concat(u),n.onLoading=!1}})()}all(e){var n=this;return(0,o.Z)(function*(){let a={limit:e};return n.publications&&n.publications.length&&n.publications.length>0&&(a={limit:e,greaterThanObjectId:n.publications[n.publications.length-1].createdAt}),yield n.publicationService.all(a)})()}callShareModal(e){this.callShareModalEvent.emit(e)}sendAlerteModalEvent(e){this.sendAlerteModalEvent2.emit(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(c.I),t.Y36(g.r))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-newsfeed"]],outputs:{callShareModalEvent:"callShareModalEvent",sendAlerteModalEvent2:"sendAlerteModalEvent2"},decls:6,vars:3,consts:[[1,"divFeed"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","row",4,"ngIf"],["appScrollBottomPublication","",1,"box",3,"isTargetElement","publicationsVisible"],[3,"publication","sendAlerteModalEvent2","callShareModalEvent"],[1,"row"],[1,"col-12","feedBottom","text-center"],["color","gray"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div"),t._UZ(2,"app-first-newsfeed"),t.qZA(),t.YNc(3,Pt,3,2,"span",1),t.YNc(4,yt,1,0,"app-loading-feed",2),t.YNc(5,Tt,5,3,"div",3),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngForOf",n.publications),t.xp6(1),t.Q6J("ngIf",n.onLoading),t.xp6(1),t.Q6J("ngIf",n.publications))},directives:[w,f.sg,U,f.O5,wt,Zt.K],pipes:[M.e3],styles:[".feedBottom[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:150px}"]}),i})();var Lt=r(19426),St=r(2949),kt=r(28270);let It=(()=>{class i{constructor(e,n,a,u){this.authService=e,this.event=n,this.messageService=a,this.userService=u,this.btnFollowing=!1,this.btnFacture=!1,this.btnAlerte=!1,this.fileUrl=m=>(0,y._h)(m)}ngOnInit(){var e=this;return(0,o.Z)(function*(){e.auth=e.authService.auth(),e.messages=yield e.messageService.all({from:e.auth._id,distinct:!0,status:!0,limit:7}),e.auth&&e.auth._id&&(e.users=yield e.userService.all({friend:!0,user:e.auth._id,limit:100}))})()}user(e){return e.from&&e.from._id!==this.auth._id?e.from:e.to}open(e){this.event.emit(e)}gotoFollowing(){this.btnFollowing=!0,this.btnFacture=!1,this.btnAlerte=!1}gotoFacture(){this.btnFollowing=!1,this.btnFacture=!0,this.btnAlerte=!1}gotoAlerte(){this.btnFollowing=!1,this.btnFacture=!1,this.btnAlerte=!0}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(v.e),t.Y36(Lt.P),t.Y36(St.e),t.Y36(P.K))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-home-right"]],decls:37,vars:25,consts:[[1,"matCardAmonak","position-fixed",2,"width","22vw"],["mat-card-title","",1,"leftTitleStyle"],[1,"lastChatFrame"],[1,"lastChatRow"],[3,"fromStory"],[1,"mt-3","d-flex","space-around"],[3,"click"],[1,"navRightSpan","d-flex","align-items-center","justify-content-center"],[1,"ri-group-line","ri-lg"],[1,"descMsg"],[1,"ri-folder-open-line","ri-lg"],[1,"ri-question-mark","ri-lg"],[1,"position-absolute",2,"top","43vh"],[1,"position-fixed"],[1,"bottomMatCard"],[1,"headerBorder","mb-2"],[1,"leftTitleStyle","mt-2"],[1,"mb-overTextNavModal"],[1,"nav","justify-content-end","width-100"],[1,"viewerCloseBtn","d-flex","align-items-center","justify-content-center"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card",0)(1,"h6",1),t._uU(2),t.ALo(3,"i18next"),t.qZA(),t.TgZ(4,"div",2)(5,"div",3),t._UZ(6,"app-discussion-list",4),t.qZA()(),t.TgZ(7,"mat-card-content",5)(8,"button",6),t.NdJ("click",function(){return n.open("FOLLOWING"),n.gotoFollowing()}),t.TgZ(9,"span",7),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"span",9),t._uU(12),t.ALo(13,"i18next"),t.qZA()(),t.TgZ(14,"button",6),t.NdJ("click",function(){return n.open("FACTURE"),n.gotoFacture()}),t.TgZ(15,"span",7),t._UZ(16,"i",10),t.qZA(),t.TgZ(17,"span",9),t._uU(18),t.ALo(19,"i18next"),t.qZA()(),t.TgZ(20,"button",6),t.NdJ("click",function(){return n.gotoAlerte()}),t.TgZ(21,"span",7),t._UZ(22,"i",11),t.qZA(),t.TgZ(23,"span",9),t._uU(24),t.ALo(25,"i18next"),t.qZA()()()(),t.TgZ(26,"div",12)(27,"div",13)(28,"mat-card",14)(29,"mat-card-header",15)(30,"mat-card-title",16)(31,"div",17),t._uU(32),t.ALo(33,"i18next"),t.qZA()(),t.TgZ(34,"ul",18),t._UZ(35,"button",19),t.qZA()(),t._UZ(36,"app-discussion-list"),t.qZA()()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,15,"home.discTitle")),t.xp6(4),t.Q6J("fromStory",!0),t.xp6(2),t.Gre("navRightButton ",n.btnFollowing?"selected":""," position-relative"),t.xp6(4),t.Oqu(t.lcZ(13,17,"home.abonne")),t.xp6(2),t.Gre("navRightButton ",n.btnFacture?"selected":""," position-relative"),t.xp6(4),t.Oqu(t.lcZ(19,19,"home.facture")),t.xp6(2),t.Gre("navRightButton ",n.btnAlerte?"selected":""," position-relative"),t.xp6(4),t.Oqu(t.lcZ(25,21,"home.alertFil")),t.xp6(8),t.Oqu(t.lcZ(33,23,"home.discLaunch")))},directives:[p.a8,p.n5,kt.Q,p.dn,p.dk],pipes:[M.e3],styles:['.lastChatFrame[_ngcontent-%COMP%]{min-height:calc(auto + -0px);max-height:calc(auto + -0px);width:100%;overflow-x:hidden;overflow-y:hidden}.lastChatFrame[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.lastChatFrame[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:30px!important}.lastChatRow[_ngcontent-%COMP%]{height:auto;width:100%}.story-btn-white[_ngcontent-%COMP%]{height:auto;width:auto;padding:0;border:0;margin-right:7px;outline:none;background:none}.hover01[_ngcontent-%COMP%]{z-index:1}.hover01[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.3);transition:.1s}.topten-style[_ngcontent-%COMP%]{width:45px!important;height:45px!important}.offline[_ngcontent-%COMP%]{color:#3b3b3b;height:13px;width:13px;border-radius:50%;border:2px solid white;right:0px;bottom:0px;background:rgb(59,59,59);position:absolute}.online[_ngcontent-%COMP%]{height:13px;width:13px;border-radius:50%;border:2px solid white;right:0px;bottom:0px;background:#2ecc71;position:absolute}.leftTitleStyle[_ngcontent-%COMP%]{font-size:13px;color:#000}.add-discussion[_ngcontent-%COMP%]{height:45px;width:45px;border:0;border-radius:50%;margin-right:7px;outline:none;color:#000;font-weight:600;background:#ecf0f1}.homePostSpan[_ngcontent-%COMP%]{border-radius:50%;height:45px;width:45px;font-weight:700;background-image:linear-gradient(to right top,#d41bb9,#a73dc0,#784bbe,#4750b3,#0150a1);background-size:100%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent}.navRightSpan[_ngcontent-%COMP%]{border-radius:50%;height:100%;width:100%;font-weight:700;padding:10px 28px;background-image:linear-gradient(to right top,#d41bb9,#a73dc0,#784bbe,#4750b3,#0150a1);background-size:100%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent}.navRightButton[_ngcontent-%COMP%]{background:#ecf0f1;border-radius:4px;padding:0;outline:none;border:0;margin-right:10px;width:28%}.descMsg[_ngcontent-%COMP%]{visibility:hidden;width:150px;background-color:#fff;color:#000;text-align:center;border-radius:6px;padding:5px 4px;position:absolute;z-index:1;bottom:100%;left:50%;margin-left:-75px;box-shadow:0 0 5px #00000040;-webkit-box-shadow:0px 0px 5px 0px rgba(0,0,0,.25);-moz-box-shadow:0px 0px 5px 0px rgba(0,0,0,.25)}.descMsg[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:white transparent transparent transparent}button[_ngcontent-%COMP%]:hover   .descMsg[_ngcontent-%COMP%]{visibility:visible}.bottomMatCard[_ngcontent-%COMP%]{width:22vw;height:57vh;border-radius:10px 10px 0 0/10px 10px 0px 0px}.headerBorder[_ngcontent-%COMP%]{border-bottom:1px solid silver}.usernameNavModal[_ngcontent-%COMP%]{font-size:15px}.usernameNavModalSuggestion[_ngcontent-%COMP%]{font-size:14px}.mb-overTextNavModal[_ngcontent-%COMP%]{white-space:nowrap;width:170px;overflow:hidden;text-overflow:ellipsis}.suggestionFrame[_ngcontent-%COMP%]{min-height:230px;max-height:230px;width:100%;overflow-x:hidden;overflow-y:auto}.suggestionFrame[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.suggestionFrame[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:30px!important}.suggestionRow[_ngcontent-%COMP%]{height:auto;width:100%}.viewerCloseBtn[_ngcontent-%COMP%]{outline:none;border:0;background:#ecf0f1;border-radius:50%;height:17px;width:17px;color:#fff}.viewerCloseBtn[_ngcontent-%COMP%]:hover   .ri-content[_ngcontent-%COMP%]{visibility:visible}.ri-content[_ngcontent-%COMP%]{visibility:hidden}.notMatStyle[_ngcontent-%COMP%]{cursor:pointer}.notMatStyle[_ngcontent-%COMP%]:hover   .usernameNavModal[_ngcontent-%COMP%]{text-decoration:underline}.selected[_ngcontent-%COMP%]{border:2px solid #b347b3;background:#ecf0f1!important}']}),i})();function Ut(i,l){1&i&&t._UZ(0,"app-loading-home")}function Et(i,l){if(1&i&&(t.TgZ(0,"span",55),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.sugestionLength)}}function Ft(i,l){if(1&i&&(t.TgZ(0,"span",56),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.demandesLength)}}function Nt(i,l){if(1&i&&t._UZ(0,"app-mobile-suggestion",57),2&i){const e=t.oxw(2);t.Q6J("users",e.suggestionsList)}}function Ht(i,l){if(1&i&&t._UZ(0,"app-demande-abonnement",58),2&i){const e=t.oxw(2);t.Q6J("demandeList",e.demandeList)}}function Dt(i,l){1&i&&(t.TgZ(0,"button",59),t._uU(1),t.ALo(2,"i18next"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"home.allSuggest")))}function Bt(i,l){1&i&&(t.TgZ(0,"button",60),t._uU(1),t.ALo(2,"i18next"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"home.allInvit")))}function Jt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-card",4),t._UZ(5,"app-answer-alert-form",5),t.qZA()()()(),t.TgZ(6,"div",6)(7,"div",2)(8,"div",3)(9,"mat-card",4),t._UZ(10,"app-form-post"),t.qZA()()()(),t.TgZ(11,"div",7)(12,"div",2)(13,"div",3)(14,"mat-card",4),t._UZ(15,"app-form-sell"),t.qZA()()()(),t.TgZ(16,"div",8)(17,"div",2)(18,"div",3)(19,"mat-card",4),t._UZ(20,"app-form-alert"),t.qZA()()()(),t.TgZ(21,"div",9)(22,"div",2)(23,"div",3)(24,"mat-card",4),t._UZ(25,"app-form-share-publication",10),t.qZA()()()(),t.TgZ(26,"div",11),t._UZ(27,"app-nav-home"),t.TgZ(28,"div",12)(29,"div",13)(30,"div",14),t._UZ(31,"app-home-left"),t.qZA(),t.TgZ(32,"div",15)(33,"mat-card",16)(34,"div",17)(35,"div",18)(36,"font",19),t._uU(37),t.ALo(38,"i18next"),t.qZA()()(),t.TgZ(39,"div",20)(40,"div",21)(41,"button",22)(42,"span",23),t._UZ(43,"i",24),t.qZA()(),t.TgZ(44,"font",25),t._uU(45),t.ALo(46,"i18next"),t.qZA()(),t.TgZ(47,"div",26)(48,"button",27)(49,"span",23),t._UZ(50,"i",28),t.qZA()(),t.TgZ(51,"font",25),t._uU(52),t.ALo(53,"i18next"),t.qZA()(),t.TgZ(54,"div",29)(55,"button",30)(56,"span",23),t._UZ(57,"i",31),t.qZA()(),t.TgZ(58,"font",25),t._uU(59),t.ALo(60,"i18next"),t.qZA()()(),t.TgZ(61,"div",32)(62,"div",33),t._UZ(63,"img",34),t.qZA()(),t._UZ(64,"img",35),t.TgZ(65,"mat-card-content",36)(66,"font",37),t._uU(67),t.ALo(68,"i18next"),t.qZA()(),t._UZ(69,"img",38),t.qZA(),t.TgZ(70,"div",39)(71,"div",40)(72,"div",41)(73,"button",42),t.NdJ("click",function(){return t.CHM(e),t.oxw().gtSuggestion()}),t.TgZ(74,"div",43)(75,"div"),t._UZ(76,"i",44),t._uU(77),t.ALo(78,"i18next"),t.qZA(),t.YNc(79,Et,2,1,"span",45),t.qZA()(),t.TgZ(80,"button",42),t.NdJ("click",function(){return t.CHM(e),t.oxw().gtDemande()}),t.TgZ(81,"div",43)(82,"div"),t._UZ(83,"i",46),t._uU(84),t.ALo(85,"i18next"),t.qZA(),t.YNc(86,Ft,2,1,"span",47),t.qZA()()()(),t.YNc(87,Nt,1,1,"app-mobile-suggestion",48),t.YNc(88,Ht,1,1,"app-demande-abonnement",49),t.TgZ(89,"div",17)(90,"div",50),t.YNc(91,Dt,3,3,"button",51),t.YNc(92,Bt,3,3,"button",52),t.qZA()()(),t.TgZ(93,"app-newsfeed",53),t.NdJ("sendAlerteModalEvent2",function(a){return t.CHM(e),t.oxw().sendAlerteModalEvent(a)})("callShareModalEvent",function(a){return t.CHM(e),t.oxw().callShareModal(a)}),t.qZA()(),t.TgZ(94,"div",54),t._UZ(95,"app-home-right"),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Q6J("publicationId",e.publicationId),t.xp6(20),t.Q6J("publication",e.publication),t.xp6(12),t.hij("",t.lcZ(38,27,"home.publishIndic"),"..."),t.xp6(8),t.Oqu(t.lcZ(46,29,"all.post")),t.xp6(7),t.Oqu(t.lcZ(53,31,"all.sell")),t.xp6(7),t.Oqu(t.lcZ(60,33,"all.alert")),t.xp6(8),t.hij("",t.lcZ(68,35,"home.citation"),"."),t.xp6(6),t.Gre("mbdashBtn ",e.suggestions?"selected":"deselected",""),t.xp6(2),t.Gre("p-2 ",e.suggestions?"textAmonak":"color-black",""),t.xp6(2),t.hij("\xa0",t.lcZ(78,37,"home.suggest")," "),t.xp6(2),t.Q6J("ngIf",e.sugestionLength&&e.sugestionLength>0),t.xp6(1),t.Gre("mbdashBtn ",e.demande?"selected":"deselected",""),t.xp6(2),t.Gre("p-2 ",e.demande?"textAmonak":"color-black"," "),t.xp6(2),t.hij("\xa0",t.lcZ(85,39,"home.invitation")," "),t.xp6(2),t.Q6J("ngIf",e.demandesLength&&e.demandesLength>0),t.xp6(1),t.Q6J("ngIf",e.suggestions),t.xp6(1),t.Q6J("ngIf",e.demande),t.xp6(3),t.Q6J("ngIf",e.suggestions&&e.sugestionLength>0),t.xp6(1),t.Q6J("ngIf",e.demande&&e.demandesLength>0)}}const Rt=[{path:"",component:(()=>{class i{constructor(e,n,a,u){var m=this;this.userService=e,this.authService=n,this.notificationService=a,this.chatSocketService=u,this.suggestions=!0,this.demande=!1,this.display=!1,this.sugestionLength=0,this.demandesLength=0,this.sendAlerteModalEvent2=new t.vpe,this.chatSocketService.on("refreshNotificationBoxHandler",function(){var C=(0,o.Z)(function*(h){var b,O;if((null===(b=m.auth)||void 0===b?void 0:b._id)&&(m.auth._id===h.from||(null===(O=m.auth)||void 0===O?void 0:O._id)===h.to)){const T=yield m.allUnReadUserNotifications();T&&localStorage.setItem("notificationsNotReadLength",`${T.length}`)}});return function(h){return C.apply(this,arguments)}}()),this.chatSocketService.on("refreshFriendListBoxHandler",function(){var C=(0,o.Z)(function*(h){var b,O;if((null===(b=m.auth)||void 0===b?void 0:b._id)&&(m.auth._id===h.from||(null===(O=m.auth)||void 0===O?void 0:O._id)===h.to)){yield m.init();const T=yield m.allUnReadUserNotifications();T&&localStorage.setItem("notificationsNotReadLength",`${T.length}`)}});return function(h){return C.apply(this,arguments)}}())}ngOnInit(){var e=this;return(0,o.Z)(function*(){e.auth=e.authService.auth(),e.auth&&e.auth._id&&(yield e.init(),setInterval((0,o.Z)(function*(){const n=yield e.allUnReadUserNotifications();n&&localStorage.setItem("notificationsNotReadLength",`${n.length}`)}),3e5))})()}init(){var e=this;return(0,o.Z)(function*(){var n,a,u,m;e.suggestionsList=yield e.userService.all({sugestion:!0,user:e.auth._id,limit:100}),e.demandeList=yield e.userService.all({friendRequest:!0,user:e.auth._id}),localStorage.setItem("sugestionLength",`${null===(n=e.suggestionsList)||void 0===n?void 0:n.length}`),localStorage.setItem("demandesLength",`${null===(a=e.demandeList)||void 0===a?void 0:a.length}`),e.sugestionLength=parseInt(null!==(u=localStorage.getItem("sugestionLength"))&&void 0!==u?u:"0"),e.demandesLength=parseInt(null!==(m=localStorage.getItem("demandesLength"))&&void 0!==m?m:"0"),e.display=!0})()}allUnReadUserNotifications(){var e=this;return(0,o.Z)(function*(){var n;return(null===(n=e.auth)||void 0===n?void 0:n._id)?yield e.notificationService.all({status:!0,user:e.auth._id,readAt:"false"}):[]})()}callShareModal(e){this.publication=e}sendAlerteModalEvent(e){this.publicationId=e}gtSuggestion(){this.suggestions=!0,this.demande=!1}gtDemande(){this.suggestions=!1,this.demande=!0}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P.K),t.Y36(v.e),t.Y36(S.g),t.Y36(x.L))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-home"]],outputs:{sendAlerteModalEvent2:"sendAlerteModalEvent2"},decls:2,vars:2,consts:[[4,"ngIf"],["id","answerModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"matCardAmonak"],[3,"publicationId"],["id","postModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["id","sellModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["id","alertModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["id","shareModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[3,"publication"],[1,"containerAll"],[1,"container-fluid","home-container"],[1,"row","padding-top"],[1,"col-md-3","col-lg-3","col-xl-3","col-md-12","col-sm-12","col-xs-12"],[1,"col-md-6","col-lg-6","col-xl-6","col-md-12","col-sm-12","col-xs-12"],[1,"desktop-and-tablet","matCardAmonak"],[1,"row"],[1,"col-12","text-center"],["color","gray","size","2"],[1,"row","d-flex","justify-content-center","pt-2"],[1,"col-auto","text-center","d-flex","justify-content-center","flex-direction-column"],["type","button","data-bs-toggle","modal","data-bs-target","#postModal",1,"flex-direction-column","homePostBtn"],[1,"homePostSpan","d-flex","align-items-center","justify-content-center"],[1,"ri-pencil-fill","ri-xl"],["size","1","color","gray"],[1,"col-auto","text-center","margin-left-30","d-flex","justify-content-center","flex-direction-column"],["type","button","data-bs-toggle","modal","data-bs-target","#sellModal",1,"flex-direction-column","homePostBtn"],[1,"ri-shopping-cart-line","ri-xl"],["type","button","data-bs-toggle","modal","data-bs-target","#alertModal",1,"col-auto","text-center","margin-left-30","d-flex","justify-content-center","flex-direction-column"],[1,"homePostBtn"],[1,"ri-question-mark","ri-xl"],[1,"row","mb-2"],[1,"col-12","mt-2","d-flex","justify-content-center"],["width","20px","src","../../../assets/imgs/mate_masie.png"],["width","17px","src","../../../assets/imgs/quote-top.png",1,"quote-top"],[1,"citation-content","d-flex","justify-content-center"],["size","3","color","#222831"],["width","17px","src","../../../assets/imgs/quote-bottom.png",1,"quote-bottom"],[1,"mobile-display","mt-2",2,"background","white"],[1,"row","p-2"],[1,"col-12","d-flex"],[3,"click"],[1,"contentSpanAmonak","d-flex","flex-direction-rows","justify-content-center","align-items-center"],[1,"ri-user-add-line","ri-lg"],["class","rectangleSpan ml-2",4,"ngIf"],[1,"ri-user-received-2-line","ri-lg"],["class","rectangleSpan",4,"ngIf"],[3,"users",4,"ngIf"],[3,"demandeList",4,"ngIf"],[1,"col-12","d-flex","justify-content-center"],["routerLink","/all-suggestions","class","linkBtnStyle pb-2",4,"ngIf"],["routerLink","/all-demandes","class","linkBtnStyle pb-2",4,"ngIf"],[3,"sendAlerteModalEvent2","callShareModalEvent"],[1,"col-md-3","col-lg-3","col-xl-3","col-md-12","col-sm-12","col-xs-12","desktop-and-tablet"],[1,"rectangleSpan","ml-2"],[1,"rectangleSpan"],[3,"users"],[3,"demandeList"],["routerLink","/all-suggestions",1,"linkBtnStyle","pb-2"],["routerLink","/all-demandes",1,"linkBtnStyle","pb-2"]],template:function(e,n){1&e&&(t.YNc(0,Ut,1,0,"app-loading-home",0),t.YNc(1,Jt,96,41,"div",0)),2&e&&(t.Q6J("ngIf",!n.display),t.xp6(1),t.Q6J("ngIf",n.display))},directives:[f.O5,L.M,p.a8,k.q,I.c,E.Q,F.e,N.z,H.$,D.w,p.dn,Y,$,_.rH,At,It],pipes:[M.e3],styles:["@media screen and (max-width:767px){.home-container[_ngcontent-%COMP%]{padding:0!important}.padding-top[_ngcontent-%COMP%]{margin-top:30px}}@media screen and (min-width:768px) and (max-width:1024px){.home-container[_ngcontent-%COMP%]{padding-left:50px!important;padding-right:50px!important}.padding-top[_ngcontent-%COMP%]{margin-top:40px}}@media screen and (min-width:1025px){.home-container[_ngcontent-%COMP%]{padding-left:50px!important;padding-right:50px!important}.padding-top[_ngcontent-%COMP%]{margin-top:40px}}.containerAll[_ngcontent-%COMP%]{background:#ecf0f1;overflow-x:hidden!important;overflow-y:hidden!important;padding-top:60px}.homePostBtn[_ngcontent-%COMP%]{background:#ecf0f1;border-radius:50%;cursor:pointer;border:0;padding:0;outline:none}.homePostBtn[_ngcontent-%COMP%]:hover{background:#d0e5ea}.homePostSpan[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;font-weight:700;background-image:linear-gradient(to right top,#d41bb9,#a73dc0,#784bbe,#4750b3,#0150a1);background-size:100%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent}.noMbPad[_ngcontent-%COMP%]{padding:0}.citation-content[_ngcontent-%COMP%]{border:3px solid #222831;padding:10px}.quote-top[_ngcontent-%COMP%]{position:absolute;margin-left:20px;margin-top:-10px!important}.quote-bottom[_ngcontent-%COMP%]{position:absolute;right:40px;margin-top:-25px!important}.modal-content[_ngcontent-%COMP%]{border:0!important;border-radius:10px}.contentSpanAmonak[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;border-radius:34px;height:40px}.mbdashBtn[_ngcontent-%COMP%]{padding:2px!important}.rectangleSpan[_ngcontent-%COMP%]{margin-left:5px!important;padding-top:4px!important;padding-bottom:4px!important}"]}),i})()}];let Yt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.Bz.forChild(Rt)],_.Bz]}),i})();var Qt=r(22775),V=r(52382),qt=r(78029),zt=r(98833),jt=r(67322),$t=r(74107),Kt=r(77446),Gt=r(74533),Wt=r(76519),Xt=r(83763);let Vt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[Xt.H4],imports:[[f.ez,_.Bz,V.u5,V.UX,Yt,Qt.W,qt.KP,p.QW,zt.c,jt.lN,$t.LD,Kt.p9,Gt.Ky,Z.bB,Wt.m,M.zH.forRoot()]]}),i})()},22775:(G,A,r)=>{r.d(A,{W:()=>L});var f=r(63492),_=r(69808),Z=r(52382),o=r(78029),t=r(9224),P=r(98833),v=r(67322),S=r(76519),x=r(5e3);let L=(()=>{class p{}return p.\u0275fac=function(I){return new(I||p)},p.\u0275mod=x.oAB({type:p}),p.\u0275inj=x.cJS({imports:[[_.ez,Z.u5,f.Bz,o.KP,t.QW,P.c,v.lN,S.m]]}),p})()}}]);